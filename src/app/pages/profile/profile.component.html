<h1>Your Profile</h1>
<div id="main-div">
  <form [formGroup]="editProfileForm" (ngSubmit)="onSubmit()">
    <mat-form-field>
      <mat-label for="email">Email: </mat-label>
      <input matInput type="text" formControlName="email" readonly />
    </mat-form-field>
    <h2>Change username</h2>
    <mat-form-field>
      <mat-label for="text">Username: </mat-label>
      <input matInput type="text" formControlName="username" />
    </mat-form-field>
    <div class="button-div">
      <span
        ><button mat-raised-button color="primary" type="submit">
          Save
        </button></span
      >
      <span
        ><button
          mat-raised-button
          color="warn"
          type="button"
          (click)="onDeleteProfile()"
        >
          Delete profile
        </button></span
      >
    </div>
  </form>
  <div class="tickets-div">
    <h1>Your Tickets</h1>
    <ng-container *ngIf="userTickets.length > 0; else noTickets">
      <div class="card-div" *ngFor="let ticket of userTickets">
        <mat-card>
          <mat-card-header>
            <mat-card-title>{{ ticket.performer }}</mat-card-title>
            <mat-card-subtitle>{{ ticket.date | timestamp }}</mat-card-subtitle>
          </mat-card-header>
          <img
            mat-card-image
            [src]="ticket.image"
            alt="Image of {{ ticket.performer }}"
          />
          <mat-card-content>
            <p>Location: {{ ticket.location }}</p>
            <p>Quantity: {{ ticket.count }}</p>
          </mat-card-content>
        </mat-card>
      </div>
    </ng-container>
    <ng-template #noTickets>
      <p>You haven't purchased any tickets yet</p>
    </ng-template>
  </div>
</div>
